---
permalink: /post/37
layout: post
date: 2010/12/25 10:26:30 +0100
title: "
In letzter Zeit bin ich von D…"
---
<p>
In letzter Zeit bin ich von <a href="http://www.perldancer.org/">Dancer</a>,
einem Web-Framework für Perl, immer mehr angetan. Man kann damit in ziemlich
kurzer Zeit in klarer Syntax Webanwendungen schreiben.
</p>

<p>
Es muss sich dabei nicht um eine Webanwendung im klassischen Sinne handeln,
also eine über den Browser benutzbaren. Stattdessen habe ich z.B. mit Dancer
und AnyEvent den sogenannten <a
href="http://github.com/raumzeitlabor/npmd">npmd</a> gebaut, einen Daemon, um
den NPM2000, der 8 ein- und ausschaltbare Kaltgeräteanschlüsse bietet, im
<a href="http://raumzeitlabor.de/">RaumZeitLabor</a> zu steuern. Ein Daemon ist
hier sinnvoll, weil der NPM nur genau eine Verbindung gleichzeitig abkann und
eine Weile braucht, bis er merkt, dass man diese geschlossen hat. Der npmd hält
also dauerhaft eine Verbindung offen und serialisiert die Anfragen an den NPM.
Für eine HTTP-API mit Dancer habe ich mich entschieden, weil man den npmd dann
schön von überall aus benutzen kann:
</p>

<pre>
# mit IO::All in Perl:
'1' > io('http://firebox:5000/port/1');
</pre>

<p>oder</p>

<pre>
# Auf der Kommandozeile:
curl -d 1 -X PUT http://firebox:5000/port/1
</pre>

<p>
…oder natürlich im Browser (wobei man da derzeit nur den Portstatus sieht).
</p>

